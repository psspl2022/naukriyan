<template>
    <div id="message">
        <jobseeker-header></jobseeker-header>
        <header class="masthead1 text-center text-white mt-5">
            <div class="masthead-content" id="form-container">
                <div class="container">
                    <h1 id="looking" class="masthead-heading mb-0 pb-4">Messages</h1>
                </div>
            </div>
            <div class="bg-circle-1 bg-circle"></div>
            <div class="bg-circle-2 bg-circle"></div>
            <div class="bg-circle-3 bg-circle"></div>
            <div class="bg-circle-4 bg-circle"></div>
        </header>

        <section class="section mb-5">
            <div class="container">
                <div class="row">
                    <div class="col-12 mx-auto">
                        <div class="messaging">
                            <div class="inbox_msg">
                                <div class="row">
                                    <div class="col-sm-5">
                                        <div class="inbox_people">
                                            <div class="headind_srch">
                                                <div class="srch_bar">
                                                    <div class="stylish-input-group">
                                                        <input type="text" class="search-bar" placeholder="Search">
                                                        <span class="input-group-addon">
                                    <button type="button"> <i class="fa fa-search"
                                                              aria-hidden="true"></i> </button>
                                    </span>
                                                    </div>
                                                </div>
                                                <div class="recent_heading">
                                                    <button type="button"
                                                            class="b-block w-100 btn btn-primary custom-compose">
                                                        Compose Mail
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="inbox_chat">
                                                <ul class="nav nav-tabs">
                                                    <li class="nav-item">
                                                        <a class="nav-link" role="tab" data-toggle="tab" href="#tab1">
                                                            <div class="chat_list active_chat">
                                                                <div class="chat_people">
                                                                    <div class="chat_img"> <img
                                                                            src="https://ptetutorials.com/images/user-profile.png"
                                                                            alt="sunil"> </div>
                                                                    <div class="chat_ib">
                                                                        <h5>Sunil Rajput <span class="chat_date">Dec
                                                   25</span>
                                                                        </h5>
                                                                        <p>Test, which is a new approach to have all
                                                                            solutions
                                                                            astrology under one roof.
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </a>
                                                    </li>
                                                    <li class="nav-item">
                                                        <a class="nav-link" role="tab" data-toggle="tab" href="#tab2">
                                                            <div class="chat_list active_chat">
                                                                <div class="chat_people">
                                                                    <div class="chat_img"> <img
                                                                            src="https://ptetutorials.com/images/user-profile.png"
                                                                            alt="sunil"> </div>
                                                                    <div class="chat_ib">
                                                                        <h5>Sunil Rajput <span class="chat_date">Dec
                                                   25</span>
                                                                        </h5>
                                                                        <p>Test, which is a new approach to have all
                                                                            solutions
                                                                            astrology under one roof.
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </a>
                                                    </li>
                                                    <li class="nav-item">
                                                        <a class="nav-link" role="tab" data-toggle="tab" href="#tab3">
                                                            <div class="chat_list active_chat">
                                                                <div class="chat_people">
                                                                    <div class="chat_img"> <img
                                                                            src="https://ptetutorials.com/images/user-profile.png"
                                                                            alt="sunil"> </div>
                                                                    <div class="chat_ib">
                                                                        <h5>Sunil Rajput <span class="chat_date">Dec
                                                   25</span>
                                                                        </h5>
                                                                        <p>Test, which is a new approach to have all
                                                                            solutions
                                                                            astrology under one roof.
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </a>
                                                    </li>
                                                    <li class="nav-item">
                                                        <a class="nav-link" role="tab" data-toggle="tab" href="#tab4">
                                                            <div class="chat_list active_chat">
                                                                <div class="chat_people">
                                                                    <div class="chat_img"> <img
                                                                            src="https://ptetutorials.com/images/user-profile.png"
                                                                            alt="sunil"> </div>
                                                                    <div class="chat_ib">
                                                                        <h5>Sunil Rajput <span class="chat_date">Dec
                                                   25</span>
                                                                        </h5>
                                                                        <p>Test, which is a new approach to have all
                                                                            solutions
                                                                            astrology under one roof.
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </a>
                                                    </li>
                                                    <li class="nav-item">
                                                        <a class="nav-link" role="tab" data-toggle="tab" href="#tab5">
                                                            <div class="chat_list active_chat">
                                                                <div class="chat_people">
                                                                    <div class="chat_img"> <img
                                                                            src="https://ptetutorials.com/images/user-profile.png"
                                                                            alt="sunil"> </div>
                                                                    <div class="chat_ib">
                                                                        <h5>Sunil Rajput <span class="chat_date">Dec
                                                   25</span>
                                                                        </h5>
                                                                        <p>Test, which is a new approach to have all
                                                                            solutions
                                                                            astrology under one roof.
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-7">
                                        <div class="mesgs">
                                            <div class="msg_history">
                                                <div class="tab-content">
                                                    <div class="tab-pane active" role="tabpanel" id="tab1">
                                                        <div class="incoming_msg">
                                                            <div class="incoming_msg_img"> <img
                                                                    src="https://ptetutorials.com/images/user-profile.png"
                                                                    alt="sunil">
                                                            </div>
                                                            <div class="received_msg">
                                                                <div class="received_withd_msg">
                                                                    <p>1Test which is a new approach to have all
                                                                        solutions
                                                                    </p>
                                                                    <span class="time_date"> 11:01 AM | June 9</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="incoming_msg">
                                                            <div class="incoming_msg_img"> <img
                                                                    src="https://ptetutorials.com/images/user-profile.png"
                                                                    alt="sunil">
                                                            </div>
                                                            <div class="received_msg">
                                                                <div class="received_withd_msg">
                                                                    <p>Test, which is a new approach to have</p>
                                                                    <span class="time_date"> 11:01 AM | Yesterday</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="incoming_msg">
                                                            <div class="incoming_msg_img"> <img
                                                                    src="https://ptetutorials.com/images/user-profile.png"
                                                                    alt="sunil">
                                                            </div>
                                                            <div class="received_msg">
                                                                <div class="received_withd_msg">
                                                                    <p>We work directly with our designers and
                                                                        suppliers,
                                                                        and sell direct to you, which means quality,
                                                                        exclusive
                                                                        products, at a price anyone can afford.
                                                                    </p>
                                                                    <span class="time_date"> 11:01 AM | Today</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="tab-pane" role="tabpanel" id="tab2">
                                                        <div class="incoming_msg">
                                                            <div class="incoming_msg_img"> <img
                                                                    src="https://ptetutorials.com/images/user-profile.png"
                                                                    alt="sunil">
                                                            </div>
                                                            <div class="received_msg">
                                                                <div class="received_withd_msg">
                                                                    <p>2Test which is a new approach to have all
                                                                        solutions
                                                                    </p>
                                                                    <span class="time_date"> 11:01 AM | June 9</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="incoming_msg">
                                                            <div class="incoming_msg_img"> <img
                                                                    src="https://ptetutorials.com/images/user-profile.png"
                                                                    alt="sunil">
                                                            </div>
                                                            <div class="received_msg">
                                                                <div class="received_withd_msg">
                                                                    <p>Test, which is a new approach to have</p>
                                                                    <span class="time_date"> 11:01 AM | Yesterday</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="incoming_msg">
                                                            <div class="incoming_msg_img"> <img
                                                                    src="https://ptetutorials.com/images/user-profile.png"
                                                                    alt="sunil">
                                                            </div>
                                                            <div class="received_msg">
                                                                <div class="received_withd_msg">
                                                                    <p>We work directly with our designers and
                                                                        suppliers,
                                                                        and sell direct to you, which means quality,
                                                                        exclusive
                                                                        products, at a price anyone can afford.
                                                                    </p>
                                                                    <span class="time_date"> 11:01 AM | Today</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="tab-pane" role="tabpanel" id="tab3">
                                                        <div class="incoming_msg">
                                                            <div class="incoming_msg_img"> <img
                                                                    src="https://ptetutorials.com/images/user-profile.png"
                                                                    alt="sunil">
                                                            </div>
                                                            <div class="received_msg">
                                                                <div class="received_withd_msg">
                                                                    <p>3Test which is a new approach to have all
                                                                        solutions
                                                                    </p>
                                                                    <span class="time_date"> 11:01 AM | June 9</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="incoming_msg">
                                                            <div class="incoming_msg_img"> <img
                                                                    src="https://ptetutorials.com/images/user-profile.png"
                                                                    alt="sunil">
                                                            </div>
                                                            <div class="received_msg">
                                                                <div class="received_withd_msg">
                                                                    <p>Test, which is a new approach to have</p>
                                                                    <span class="time_date"> 11:01 AM | Yesterday</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="incoming_msg">
                                                            <div class="incoming_msg_img"> <img
                                                                    src="https://ptetutorials.com/images/user-profile.png"
                                                                    alt="sunil">
                                                            </div>
                                                            <div class="received_msg">
                                                                <div class="received_withd_msg">
                                                                    <p>We work directly with our designers and
                                                                        suppliers,
                                                                        and sell direct to you, which means quality,
                                                                        exclusive
                                                                        products, at a price anyone can afford.
                                                                    </p>
                                                                    <span class="time_date"> 11:01 AM | Today</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="tab-pane" role="tabpanel" id="tab4">
                                                        <div class="incoming_msg">
                                                            <div class="incoming_msg_img"> <img
                                                                    src="https://ptetutorials.com/images/user-profile.png"
                                                                    alt="sunil">
                                                            </div>
                                                            <div class="received_msg">
                                                                <div class="received_withd_msg">
                                                                    <p>4Test which is a new approach to have all
                                                                        solutions
                                                                    </p>
                                                                    <span class="time_date"> 11:01 AM | June 9</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="incoming_msg">
                                                            <div class="incoming_msg_img"> <img
                                                                    src="https://ptetutorials.com/images/user-profile.png"
                                                                    alt="sunil">
                                                            </div>
                                                            <div class="received_msg">
                                                                <div class="received_withd_msg">
                                                                    <p>Test, which is a new approach to have</p>
                                                                    <span class="time_date"> 11:01 AM | Yesterday</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="incoming_msg">
                                                            <div class="incoming_msg_img"> <img
                                                                    src="https://ptetutorials.com/images/user-profile.png"
                                                                    alt="sunil">
                                                            </div>
                                                            <div class="received_msg">
                                                                <div class="received_withd_msg">
                                                                    <p>We work directly with our designers and
                                                                        suppliers,
                                                                        and sell direct to you, which means quality,
                                                                        exclusive
                                                                        products, at a price anyone can afford.
                                                                    </p>
                                                                    <span class="time_date"> 11:01 AM | Today</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="tab-pane" role="tabpanel" id="tab5">
                                                        <div class="incoming_msg">
                                                            <div class="incoming_msg_img"> <img
                                                                    src="https://ptetutorials.com/images/user-profile.png"
                                                                    alt="sunil">
                                                            </div>
                                                            <div class="received_msg">
                                                                <div class="received_withd_msg">
                                                                    <p>5Test which is a new approach to have all
                                                                        solutions
                                                                    </p>
                                                                    <span class="time_date"> 11:01 AM | June 9</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="incoming_msg">
                                                            <div class="incoming_msg_img"> <img
                                                                    src="https://ptetutorials.com/images/user-profile.png"
                                                                    alt="sunil">
                                                            </div>
                                                            <div class="received_msg">
                                                                <div class="received_withd_msg">
                                                                    <p>Test, which is a new approach to have</p>
                                                                    <span class="time_date"> 11:01 AM | Yesterday</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="incoming_msg">
                                                            <div class="incoming_msg_img"> <img
                                                                    src="https://ptetutorials.com/images/user-profile.png"
                                                                    alt="sunil">
                                                            </div>
                                                            <div class="received_msg">
                                                                <div class="received_withd_msg">
                                                                    <p>We work directly with our designers and
                                                                        suppliers,
                                                                        and sell direct to you, which means quality,
                                                                        exclusive
                                                                        products, at a price anyone can afford.
                                                                    </p>
                                                                    <span class="time_date"> 11:01 AM | Today</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="compose-mail">
                                                    <div class="panel panel-default">
                                                        <div class="panel-body message">
                                                            <h3 class="text-center">New Message</h3>
                                                            <div class="alert-close1"><img :src="'assets/public/asset/img/close.png'" alt="close" class="compose-close"></div>
                                                            <form class="form-horizontal"role="form" method="post" @submit.prevent="sendmessage()" enctype="multipart/form-data">
                                                                <div class="form-group">
                                                                    <label for="to"
                                                                           class="col-sm-1 control-label">To:</label>
                                                                    <div class="col-sm-11">
                                                                        <input type="email"
                                                                               class="form-control select2-offscreen"
                                                                               v-model="form.email_id" placeholder="Type email"
                                                                               tabindex="-1">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="cc"
                                                                           class="col-sm-1 control-label">Subject:</label>
                                                                    <div class="col-sm-11">
                                                                        <input type="text"
                                                                               class="form-control select2-offscreen"
                                                                               v-model="form.subject" placeholder="Type Subject"
                                                                               tabindex="-1">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="cc"
                                                                           class="col-sm-1 control-label">Attachment(Optional):</label>
                                                                    <div class="col-sm-11">
                                                                        <input type="file" class="form-control" placeholder="" v-on:change="onResumeChange">
                                                                    </div>
                                                                </div>


                                                                <div class="col-sm-11 col-sm-offset-1">

                                                                    <br>
                                                                    <div class="form-group">
                                                                        <label for="cc"
                                                                               class="col-sm-1 control-label">Message:</label>
                                                                        <ckeditor :editor="editor" v-model="form.editorData"></ckeditor>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <button type="submit"
                                                                                class="btn btn-success">Send</button>

                                                                    </div>
                                                                </div>
                                                            </form>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="type_msg">
                                                <div class="input_msg_write">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <main-footer></main-footer>

    </div>
</template>

<script>
    import ClassicEditor from '@ckeditor/ckeditor5-build-classic';
    export default {
        name: "EmpInbox",
        data(){
            //let now = new Date()
            return {
                editor: ClassicEditor,
                exportStatus: false,
                form: new Form({
                    email_id:'',
                    subject: '',
                    editorData: '',
                    attachment:'',

                })
            }
        },
        mounted(){

        },
        computed:{

        },
        methods:{
            sendmessage()
            {
                axios.post('/send-message-to-jobseeker', this.form).then(response => {
                    if (response.status === 200) {
                        toast({
                            type: 'success',
                            title: 'Message send successfully'
                        })
                    }
                })

            },
            onResumeChange(event){
                let file = event.target.files[0];
                if(file.size > 5242880){
                    swal({
                        type: 'error',
                        title: 'Oops...',
                        text: 'Your file size is too large.'
                    })
                } else {
                    let reader = new FileReader();
                    reader.onload = event => {
                        this.form.attachment = event.target.result
                    };
                    reader.readAsDataURL(file);
                }

            },
        }
    }
</script>

<style scoped>

</style>